(this.webpackJsonpsoftcloud=this.webpackJsonpsoftcloud||[]).push([[0],{1:function(e,a,t){e.exports={Wrapper:"Auth_Wrapper__9yUxc","auth-main":"Auth_auth-main__2csK1","page-name":"Auth_page-name__3njLk",recover:"Auth_recover__nTK9A",error:"Auth_error__eMmIG",verification:"Auth_verification__nYOob",valid:"Auth_valid__1JlkT",btn:"Auth_btn__1H9J6","auth-switch-page":"Auth_auth-switch-page__2g0hL",register:"Auth_register__3eK3S"}},196:function(e,a,t){e.exports={Loading:"Profile_Loading__1KkBN"}},197:function(e,a,t){e.exports={Navbar:"Navbar_Navbar__YkdC-"}},198:function(e,a,t){e.exports={Header:"Header_Header__2C_Ub"}},199:function(e,a,t){e.exports=t(436)},204:function(e,a,t){},232:function(e,a){},234:function(e,a){},263:function(e,a){},264:function(e,a){},308:function(e,a){},310:function(e,a){},333:function(e,a){},435:function(e,a,t){},436:function(e,a,t){"use strict";t.r(a);var r=t(0),n=t.n(r),s=t(191),c=t.n(s),o=(t(204),t(4)),i=t.n(o),u=t(12),l=t(9),m=t(21),d=t(40),p=t(49),f=t.n(p),v={isAuthenticated:!1,username:void 0,authenticate:function(e){this.isAuthenticated=!0,this.username=e},signout:function(){this.isAuthenticated=!1,this.username=void 0}},h=function(){var e=Object(u.a)(i.a.mark((function e(a,t){var r,n,s;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,r={token:a},t&&(r.options=t),n={method:"POST",uri:"http://127.0.0.1:9090/users/checkauth",body:r,json:!0},e.next=6,f()(n);case 6:return s=e.sent,e.abrupt("return",s);case 10:return e.prev=10,e.t0=e.catch(0),e.abrupt("return",console.log("Server under maintanence!",e.t0));case 13:case"end":return e.stop()}}),e,null,[[0,10]])})));return function(a,t){return e.apply(this,arguments)}}(),b=function(){var e=Object(u.a)(i.a.mark((function e(a,t){var r,n;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,r={method:"POST",uri:"http://127.0.0.1:9090/users/login",body:[a,t],json:!0},e.next=4,f()(r);case 4:return n=e.sent,e.abrupt("return",n);case 8:return e.prev=8,e.t0=e.catch(0),e.abrupt("return",console.log("Server under maintanence!",e.t0));case 11:case"end":return e.stop()}}),e,null,[[0,8]])})));return function(a,t){return e.apply(this,arguments)}}(),g=function(){var e=Object(u.a)(i.a.mark((function e(a){var t,r;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,t={method:"POST",uri:"http://127.0.0.1:9090/users/recover",body:[a],json:!0},e.next=4,f()(t);case 4:return r=e.sent,e.abrupt("return",r);case 8:return e.prev=8,e.t0=e.catch(0),e.abrupt("return",console.log("Server under maintanence!",e.t0));case 11:case"end":return e.stop()}}),e,null,[[0,8]])})));return function(a){return e.apply(this,arguments)}}(),w=function(){var e=Object(u.a)(i.a.mark((function e(a,t,r,n){var s,c;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,s={method:"POST",uri:"http://127.0.0.1:9090/users/register",body:[a,t,r,n],json:!0},e.next=4,f()(s);case 4:return c=e.sent,e.abrupt("return",c);case 8:return e.prev=8,e.t0=e.catch(0),e.abrupt("return",console.log("Server under maintanence!",e.t0));case 11:case"end":return e.stop()}}),e,null,[[0,8]])})));return function(a,t,r,n){return e.apply(this,arguments)}}(),E=function(){var e=Object(u.a)(i.a.mark((function e(a,t,r){var n,s;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,n={method:"POST",uri:"http://127.0.0.1:9090/users/resetpass",body:[a,t,r],json:!0},e.next=4,f()(n);case 4:return s=e.sent,e.abrupt("return",s);case 8:return e.prev=8,e.t0=e.catch(0),e.abrupt("return",console.log("Server under maintanence!",e.t0));case 11:case"end":return e.stop()}}),e,null,[[0,8]])})));return function(a,t,r){return e.apply(this,arguments)}}(),y=v,S=t(1),O=t.n(S),x=(t(76),t(7)),j=t.n(x),k=function(e,a,t){var r=!0;return e.forEach((function(e){N(e.type,e.val)||(r=!1,t||L(e.type,a))})),!!r},N=function(e,a){switch(e){case"username":return a.length>=6&&a.length<=50&&/^[a-zA-Z0-9_.-@]*$/.test(a);case"password":return a.length>=6&&a.length<=50;case"email":return/@.+\.[A-Za-z]{2,}$/.test(a);default:console.log("Validation failed! No validation for ".concat(e,"!"))}},L=function(e,a){a.querySelector("#".concat(e)).classList.add("error"),a.querySelector("#".concat(e)).previousSibling.lastChild.classList.add("error")},_=t(25),P=t.n(_),C=t(192),A=function(e){var a=Object(r.useRef)(null),t=Object(r.useRef)(null),s=e.history,c=Object(d.g)(),o=Object(r.useState)(!1),m=Object(l.a)(o,2),p=m[0],f=m[1],v=Object(r.useState)({type:"username",val:""}),h=Object(l.a)(v,2),g=h[0],w=h[1],E=Object(r.useState)({type:"password",val:""}),S=Object(l.a)(E,2),x=S[0],L=S[1],_=Object(r.useState)(!1),A=Object(l.a)(_,2),q=A[0],I=A[1],Y=Object(r.useState)(!1),R=Object(l.a)(Y,2),T=R[0],U=R[1];Object(r.useEffect)((function(){var e=new URLSearchParams(c.search),a=e.get("activated"),t=e.get("expired");a&&"true"===a&&j.a.info("You can login into your account","Your account was already activated!"),a&&"false"===a&&j.a.error("You must have clicken on a wrong link","Your link seems to be broken!"),Object(C.isUuid)(a)&&j.a.success("You can now login into your account","Your account is now activated!"),t&&"true"===t&&j.a.error("Please try again","Your link is already expired!")}),[c]);var F=function(){var e=Object(u.a)(i.a.mark((function e(a){var r;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a.preventDefault(),r=!1,t.current.disabled=!0,U(!0),e.next=6,D(a);case 6:r=e.sent,t.current.disabled=!1,U(!1),r||(y.authenticate(g.val),f(!0));case 10:case"end":return e.stop()}}),e)})));return function(a){return e.apply(this,arguments)}}(),D=function(){var e=Object(u.a)(i.a.mark((function e(a){var t;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!k([g,x],a.target)){e.next=15;break}return e.next=4,b(g,x);case 4:if(1!==(t=e.sent).status){e.next=11;break}return localStorage.setItem("userToken",t.token),j.a.success("You are now logged in!"),e.abrupt("return",!1);case 11:return W(t),e.abrupt("return",!0);case 13:e.next=16;break;case 15:return e.abrupt("return",!0);case 16:case"end":return e.stop()}}),e)})));return function(a){return e.apply(this,arguments)}}(),W=function(e){11===e.code?z(e.invalids,e):15===e.code?z(["username"],e):16===e.code?z(["password"],e):17===e.code?z(["activate"],e):z([],e)},z=function(e,t){return"activate"===e[0]?j.a.info("Please activate your account first!"):0===e.length?j.a.error("Please try again!","Something went wrong!"):(e.forEach((function(e){var t=a.current.querySelector("#".concat(e));t.classList.add(O.a.error),t.previousSibling.lastChild.classList.add(O.a.error)})),void(t.hasOwnProperty("invalids")?j.a.error("".concat(H(e.join(", "))," are not valid!")):j.a.error(H(t.message))))},H=function(e){return e.charAt(0).toUpperCase()+e.slice(1)},K=function(e){var a=e.target,t=a.name,r=a.value;M(t,r),Z(e,t,r),B(2)},Z=function(e,a,t){var r,n=e.target;r=N(a,t),$(n,r)},$=function(e,a){!0===a?(e.classList.remove(O.a.error),e.previousSibling.lastChild.classList.remove(O.a.error),e.nextSibling.classList.add(O.a.valid)):e.nextSibling.classList.remove(O.a.valid)},B=function(e){var r=Array.from(a.current.querySelectorAll("input + span")).filter((function(e){return e.classList.value.indexOf("valid")>0})).length,n=t.current.classList;r===e?(n.add(O.a.valid),t.current.disabled=!1):(n.remove(O.a.valid),t.current.disabled=!0)},M=function(e,a){var t={type:e,val:a};switch(e){case"username":return w(t);case"password":return L(t);default:return console.log("Failed to update state for ".concat(e,"!"))}},G=function(e){s.push("/".concat(e),{from:"/login"})},J="";J=!e.location.state||"/register"!==e.location.state.from&&"/recover"!==e.location.state.from?"animated fadeInUp":"animated flipInX";var V=(e.location.state||{from:{pathname:"/"}}).from;return"/register"===V&&(V={pathname:"/"}),!0===p?n.a.createElement(d.a,{to:V}):void 0!==y.username?n.a.createElement(d.a,{to:{pathname:"/"}}):(V&&"/profile"===V.pathname&&!q&&(j.a.info("You need to login too see the profile page"),I(!0)),n.a.createElement("div",{className:O.a.Wrapper},n.a.createElement("div",{className:J},n.a.createElement("form",{onSubmit:F,ref:a,className:O.a["auth-main"]},n.a.createElement("h3",{className:O.a["page-name"]},"Login"),n.a.createElement("div",{className:O.a["form-control"]},n.a.createElement("label",{htmlFor:"username"},"Username or email ",n.a.createElement("span",null,"minimum 6 characters")),n.a.createElement("input",{type:"text",name:"username",id:"username",autoComplete:"off",value:g.val,onChange:K,onKeyPress:function(e){return/^[a-zA-Z0-9_.-@]*$/g.test(e.key)?void 0:e.preventDefault()},maxLength:"50",placeholder:"Enter username..."}),n.a.createElement("span",{className:O.a.verification},n.a.createElement("i",{className:"fas fa-check"})),n.a.createElement("label",{htmlFor:"password"},"Password ",n.a.createElement("span",null,"minimum 6 characters")),n.a.createElement("input",{type:"password",name:"password",id:"password",value:x.val,onChange:K,placeholder:"Enter password..."}),n.a.createElement("span",{className:O.a.verification},n.a.createElement("i",{className:"fas fa-check"}))),n.a.createElement("button",{type:"submit",disabled:!0,className:O.a.btn,ref:t},T?n.a.createElement(P.a,{size:13,color:"#485877"}):"Login"),n.a.createElement("div",{className:O.a["auth-switch-page"],onClick:function(){return G("register")}}," Don't have an account yet? Sign up here"),n.a.createElement("div",{className:O.a["auth-switch-page"],onClick:function(){return G("recover")}},"Forgot your account OR need to resend activation email? ")))))},q=t(195),I=function(e){var a=e.component,t=Object(q.a)(e,["component"]);return n.a.createElement(d.b,Object.assign({},t,{render:function(e){return!0===y.isAuthenticated?n.a.createElement(a,e):n.a.createElement(d.a,{to:{pathname:"/login",state:{from:e.location}}})}}))},Y=function(){return n.a.createElement("h3",null,"Home")},R=t(196),T=t.n(R),U=function(e){var a=Object(d.f)(),t=Object(r.useState)(null),s=Object(l.a)(t,2),c=s[0],o=s[1];return Object(r.useEffect)((function(){(function(){var e=Object(u.a)(i.a.mark((function e(){var t,r;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(null!==localStorage.getItem("userToken")){e.next=4;break}return e.abrupt("return",a.push("/login",{from:{pathname:a.location.pathname}}));case 4:return t=localStorage.getItem("userToken"),e.next=7,h(t);case 7:if(1!==(r=e.sent).status){e.next=13;break}y.authenticate(r.username),o({username:r.username}),e.next=14;break;case 13:return e.abrupt("return",a.push("/login",{from:{pathname:a.location.pathname}}));case 14:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}})()()}),[a]),null===c?n.a.createElement("div",{className:T.a.Loading},n.a.createElement(P.a,{size:50,color:"#485877"})):n.a.createElement("div",null,"Hello ",c.username)},F=function(e){var a=Object(r.useRef)(null),t=Object(r.useRef)(null),s=e.history,c=Object(r.useState)({type:"email",val:""}),o=Object(l.a)(c,2),m=o[0],p=o[1],f=Object(r.useState)({type:"username",val:""}),v=Object(l.a)(f,2),h=v[0],b=v[1],g=Object(r.useState)({type:"password",val:""}),E=Object(l.a)(g,2),S=E[0],x=E[1],L=Object(r.useState)({type:"password",val:""}),_=Object(l.a)(L,2),C=_[0],A=_[1],q=Object(r.useState)(!1),I=Object(l.a)(q,2),Y=I[0],R=I[1],T=function(){var e=Object(u.a)(i.a.mark((function e(a){var r;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a.preventDefault(),r=!1,t.current.disabled=!0,R(!0),e.next=6,U(a);case 6:r=e.sent,t.current.disabled=!1,R(!1),r||(j.a.success("Please check your email to activate your account!","Your account has been created!"),s.push("/login",{from:"/register",username:h}));case 10:case"end":return e.stop()}}),e)})));return function(a){return e.apply(this,arguments)}}(),U=function(){var e=Object(u.a)(i.a.mark((function e(a){var t,r;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=k([h,S,m],a.target),Z()){e.next=3;break}return e.abrupt("return",!0);case 3:if(!t){e.next=15;break}return e.next=6,w(h,S,m,C);case 6:if(1!==(r=e.sent).status){e.next=11;break}return e.abrupt("return",!1);case 11:return F(r),e.abrupt("return",!0);case 13:e.next=16;break;case 15:return e.abrupt("return",!0);case 16:case"end":return e.stop()}}),e)})));return function(a){return e.apply(this,arguments)}}(),F=function(e){11===e.code?D(e.invalids,e):12===e.code?D(["username","email"],e):13===e.code||15===e.code?D(["username"],e):14===e.code?D(["email"],e):16===e.code?D(["password"],e):10===e.code?D(["password","rePassword"],e):9===e.code?D(["email"],e):D([],e)},D=function(e,t){if(0===e.length)return j.a.error("Please try again!","Something went wrong!");e.forEach((function(e){var t=a.current.querySelector("#".concat(e));t.classList.add(O.a.error),t.previousSibling.lastChild.classList.add(O.a.error)})),t.hasOwnProperty("invalids")?j.a.error("".concat(W(e.join(", "))," are not valid!")):j.a.error(W(t.message))},W=function(e){return e.charAt(0).toUpperCase()+e.slice(1)},z=function(e){var a=e.target,t=a.name,r=a.value;M(t,r),H(e,t,r),B(4)},H=function(e,a,t){var r=e.target,n=!1;"rePassword"!==a?(n=N(a,t),"password"===a&&K(n,t)):n=S.val===t&&""!==t&&t.length>5,$(r,n)},K=function(e,t){var r=C.val;e&&r.length>0?r!==t?a.current.querySelector("#rePassword").nextSibling.classList.remove(O.a.valid):a.current.querySelector("#rePassword").nextSibling.classList.add(O.a.valid):!e&&r.length>0&&a.current.querySelector("#rePassword").nextSibling.classList.remove(O.a.valid)},Z=function(){if(S.val!==C.val||""===C.val||C.val<6){var e=a.current.querySelector("#rePassword");return e.classList.add(O.a.error),e.previousSibling.lastChild.classList.add(O.a.error),!1}return!0},$=function(e,a){!0===a?(e.classList.remove(O.a.error),e.previousSibling.lastChild.classList.remove(O.a.error),e.nextSibling.classList.add(O.a.valid)):e.nextSibling.classList.remove(O.a.valid)},B=function(e){var r=Array.from(a.current.querySelectorAll("input + span")).filter((function(e){return e.classList.value.indexOf("valid")>0})).length,n=t.current.classList;r===e?(n.add(O.a.valid),t.current.disabled=!1):(n.remove(O.a.valid),t.current.disabled=!0)},M=function(e,a){var t={type:e,val:a};switch(e){case"username":return b(t);case"password":return x(t);case"rePassword":return A({type:"password",val:a});case"email":return p(t);default:return console.log("Failed to update state for ".concat(e,"!"))}},G="";return G=e.location.state&&"/login"===e.location.state.from?"animated flipInY":"animated fadeInUp",void 0!==y.username?n.a.createElement(d.a,{to:{pathname:"/"}}):n.a.createElement("div",{className:O.a.Wrapper},n.a.createElement("div",{className:G},n.a.createElement("form",{onSubmit:T,ref:a,className:O.a["auth-main"]},n.a.createElement("h3",{className:O.a["page-name"]},"Register"),n.a.createElement("div",{className:O.a["form-control"]},n.a.createElement("label",{htmlFor:"username"},"Username ",n.a.createElement("span",null,"minimum 6 characters")),n.a.createElement("input",{type:"text",name:"username",id:"username",autoComplete:"off",value:h.val,onChange:z,onKeyPress:function(e){return/^[aA-zZ0-9-]+$/g.test(e.key)?void 0:e.preventDefault()},maxLength:"50",placeholder:"Enter username..."}),n.a.createElement("span",{className:O.a.verification},n.a.createElement("i",{className:"fas fa-check"})),n.a.createElement("label",{htmlFor:"email"},"Email ",n.a.createElement("span",null,"e.g. joe@smith.com")),n.a.createElement("input",{type:"text",name:"email",id:"email",autoComplete:"off",value:m.val,onChange:z,placeholder:"Enter email..."}),n.a.createElement("span",{className:O.a.verification},n.a.createElement("i",{className:"fas fa-check"})),n.a.createElement("label",{htmlFor:"password"},"Password ",n.a.createElement("span",null,"minimum 6 characters")),n.a.createElement("input",{type:"password",name:"password",id:"password",value:S.val,onChange:z,placeholder:"Enter password..."}),n.a.createElement("span",{className:O.a.verification},n.a.createElement("i",{className:"fas fa-check"})),n.a.createElement("label",{htmlFor:"rePassword"}," Confirm Password ",n.a.createElement("span",null,"same as password above")),n.a.createElement("input",{type:"password",name:"rePassword",id:"rePassword",value:C.val,onChange:z,placeholder:"Enter password..."}),n.a.createElement("span",{className:O.a.verification},n.a.createElement("i",{className:"fas fa-check"}))),n.a.createElement("button",{type:"submit",disabled:!0,className:O.a.btn,ref:t},Y?n.a.createElement(P.a,{size:13,color:"#485877"}):"Register"),n.a.createElement("div",{className:O.a["auth-switch-page"]+" "+O.a.register,onClick:function(){return e="login",void s.push("/".concat(e),{from:"/register"});var e}},"Already have an account? Sign in here"))))},D=t(197),W=t.n(D),z=function(){return n.a.createElement("div",{className:W.a.Navbar},n.a.createElement("div",null,n.a.createElement(m.b,{to:"/"},"Home")),n.a.createElement("div",null,n.a.createElement(m.b,{to:"/profile"},"Profile")))},H=t(77),K=t.n(H),Z=Object(d.h)((function(e){var a=e.history,t=null;if(y.isAuthenticated){var r=(window.innerWidth||document.documentElement.clientWidth||document.body.clientWidth)<=510?"":"Welcome ".concat(y.username,"!");t=n.a.createElement("div",{className:K.a["sign-in"]},r," ",n.a.createElement("button",{onClick:function(){y.signout(),localStorage.removeItem("userToken"),a.push("/")}},n.a.createElement("i",{className:"fas fa-sign-out-alt"})," Sign out"))}else t=n.a.createElement("div",{className:K.a["sign-out"]},n.a.createElement("button",{onClick:function(){return a.push("/register")}},"Sign up"),n.a.createElement("button",{onClick:function(){return a.push("/login")}},n.a.createElement("i",{className:"fas fa-sign-in-alt"})," Login"));return n.a.createElement("div",{className:K.a.AuthStatus},t)})),$=t(198),B=t.n($),M=function(){return n.a.createElement("div",{className:B.a.Header},n.a.createElement(z,null),n.a.createElement(Z,null))},G=(t(435),{closeButton:!0,debug:!1,newestOnTop:!1,progressBar:!1,positionClass:"toast-bottom-right",preventDuplicates:!0,onclick:null,showDuration:"300",hideDuration:"1000",timeOut:"3000",extendedTimeOut:"1000",showEasing:"swing",hideEasing:"linear",showMethod:"fadeIn",hideMethod:"fadeOut"}),J=function(e){var a=Object(r.useRef)(null),t=Object(r.useRef)(null),s=e.history,c=Object(r.useState)({type:"username",val:""}),o=Object(l.a)(c,2),m=o[0],p=o[1],f=Object(r.useState)(!1),v=Object(l.a)(f,2),h=v[0],b=v[1],w=function(){var e=Object(u.a)(i.a.mark((function e(a){var r;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a.preventDefault(),r=!1,t.current.disabled=!0,b(!0),e.next=6,E(a);case 6:r=e.sent,t.current.disabled=!1,b(!1),r||s.push("/login");case 10:case"end":return e.stop()}}),e)})));return function(a){return e.apply(this,arguments)}}(),E=function(){var e=Object(u.a)(i.a.mark((function e(a){var t;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!k([m],a.target)){e.next=16;break}return e.next=4,g(m);case 4:if(1!==(t=e.sent).status){e.next=12;break}return console.log(t),j.a.options.timeOut="5000",j.a.success("Please follow the email information to complete this action","Email was sent successfully!"),e.abrupt("return",!1);case 12:return S(t),e.abrupt("return",!0);case 14:e.next=17;break;case 16:return e.abrupt("return",!0);case 17:case"end":return e.stop()}}),e)})));return function(a){return e.apply(this,arguments)}}(),S=function(e){11===e.code?x(e.invalids,e):15===e.code?x(["username"],e):x([],e)},x=function(e,t){if(console.log(t),0===e.length)return j.a.error("Please try again!","Something went wrong!");e.forEach((function(e){var t=a.current.querySelector("#".concat(e));t.classList.add(O.a.error),t.previousSibling.lastChild.classList.add(O.a.error)})),t.hasOwnProperty("invalids")?j.a.error("".concat(L(e[0])," is not valid!")):j.a.error(L(t.message))},L=function(e){return e.charAt(0).toUpperCase()+e.slice(1)},_=function(e,a,t){var r,n=e.target;r=N(a,t),C(n,r)},C=function(e,a){!0===a?(e.classList.remove(O.a.error),e.previousSibling.lastChild.classList.remove(O.a.error),e.nextSibling.classList.add(O.a.valid)):e.nextSibling.classList.remove(O.a.valid)},A=function(e){var r=Array.from(a.current.querySelectorAll("input + span")).filter((function(e){return e.classList.value.indexOf("valid")>0})).length,n=t.current.classList;r===e?(n.add(O.a.valid),t.current.disabled=!1):(n.remove(O.a.valid),t.current.disabled=!0)},q=function(e,a){var t={type:e,val:a};switch(e){case"username":return p(t);default:return console.log("Failed to update state for ".concat(e,"!"))}},I="";return I=e.location.state&&"/login"===e.location.state.from?"animated flipInY":"animated fadeInUp",void 0!==y.username?n.a.createElement(d.a,{to:{pathname:"/"}}):n.a.createElement("div",{className:O.a.Wrapper},n.a.createElement("div",{className:I},n.a.createElement("form",{onSubmit:w,ref:a,className:O.a["auth-main"]},n.a.createElement("h3",{className:O.a["page-name"]+" "+O.a.recover},"Recover account or resend activation email"),n.a.createElement("div",{className:O.a["form-control"]},n.a.createElement("label",{htmlFor:"username"},"Email or username ",n.a.createElement("span",null,"minimum 6 characters")),n.a.createElement("input",{type:"text",name:"username",id:"username",autoComplete:"off",value:m.val,onChange:function(e){var a=e.target,t=a.name,r=a.value;q(t,r),_(e,t,r),A(1)},onKeyPress:function(e){return/^[a-zA-Z0-9_.-@]*$/g.test(e.key)?void 0:e.preventDefault()},maxLength:"50",placeholder:"Your email or username..."}),n.a.createElement("span",{className:O.a.verification},n.a.createElement("i",{className:"fas fa-check"}))),n.a.createElement("button",{type:"submit",disabled:!0,className:O.a.btn,ref:t},h?n.a.createElement(P.a,{size:13,color:"#485877"}):"Send email"),n.a.createElement("div",{className:O.a["auth-switch-page"],onClick:function(){return e="login",void s.push("/".concat(e),{from:"/recover"});var e}},"Remember your account now? Go back to login"))))},V=function(){var e=Object(r.useRef)(null),a=Object(r.useRef)(null),t=Object(d.f)(),s=Object(d.g)(),c=Object(r.useState)({type:"password",val:""}),o=Object(l.a)(c,2),m=o[0],p=o[1],f=Object(r.useState)({type:"password",val:""}),v=Object(l.a)(f,2),h=v[0],b=v[1],g=Object(r.useState)(!1),w=Object(l.a)(g,2),S=w[0],x=w[1],L=Object(r.useState)(null),_=Object(l.a)(L,2),C=_[0],A=_[1];Object(r.useEffect)((function(){var e=new URLSearchParams(s.search),a=e.get("id"),r=e.get("key");a&&r?A({id:a,key:r}):t.push("/login")}),[t,s]);var q=function(){var e=Object(u.a)(i.a.mark((function e(r){var n;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r.preventDefault(),n=!1,a.current.disabled=!0,x(!0),e.next=6,I(r);case 6:n=e.sent,a.current.disabled=!1,x(!1),n||(j.a.success("You can login now with your new password!","Your password has been changed!"),t.push("/login"));case 10:case"end":return e.stop()}}),e)})));return function(a){return e.apply(this,arguments)}}(),I=function(){var e=Object(u.a)(i.a.mark((function e(a){var t,r;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=k([m],a.target),W()){e.next=3;break}return e.abrupt("return",!0);case 3:if(!t){e.next=16;break}return e.next=6,E(m,h,C);case 6:if(r=e.sent,console.log(r),1!==r.status){e.next=12;break}return e.abrupt("return",!1);case 12:return Y(r),e.abrupt("return",!0);case 14:e.next=17;break;case 16:return e.abrupt("return",!0);case 17:case"end":return e.stop()}}),e)})));return function(a){return e.apply(this,arguments)}}(),Y=function(e){11===e.code?R(e.invalids,e):10===e.code?R(["password","rePassword"],e):R([],e)},R=function(a,t){if(0===a.length)return j.a.error("Please try again!","Something went wrong!");a.forEach((function(a){var t=e.current.querySelector("#".concat(a));t.classList.add(O.a.error),t.previousSibling.lastChild.classList.add(O.a.error)})),t.hasOwnProperty("invalids")?j.a.error("".concat(T(a.join(", "))," are not valid!")):j.a.error(T(t.message))},T=function(e){return e.charAt(0).toUpperCase()+e.slice(1)},U=function(e){var a=e.target,t=a.name,r=a.value;K(t,r),F(e,t,r),H(2)},F=function(e,a,t){var r=e.target,n=!1;"rePassword"!==a?(n=N(a,t),"password"===a&&D(n,t)):n=m.val===t&&""!==t&&t.length>5,z(r,n)},D=function(a,t){var r=h.val;a&&r.length>0?r!==t?e.current.querySelector("#rePassword").nextSibling.classList.remove(O.a.valid):e.current.querySelector("#rePassword").nextSibling.classList.add(O.a.valid):!a&&r.length>0&&e.current.querySelector("#rePassword").nextSibling.classList.remove(O.a.valid)},W=function(){if(m.val!==h.val||""===h.val||h.val<6){var a=e.current.querySelector("#rePassword");return a.classList.add(O.a.error),a.previousSibling.lastChild.classList.add(O.a.error),!1}return!0},z=function(e,a){!0===a?(e.classList.remove(O.a.error),e.previousSibling.lastChild.classList.remove(O.a.error),e.nextSibling.classList.add(O.a.valid)):e.nextSibling.classList.remove(O.a.valid)},H=function(t){var r=Array.from(e.current.querySelectorAll("input + span")).filter((function(e){return e.classList.value.indexOf("valid")>0})).length,n=a.current.classList;r===t?(n.add(O.a.valid),a.current.disabled=!1):(n.remove(O.a.valid),a.current.disabled=!0)},K=function(e,a){var t={type:e,val:a};switch(e){case"password":return p(t);case"rePassword":return b({type:"password",val:a});default:return console.log("Failed to update state for ".concat(e,"!"))}};return void 0!==y.username?n.a.createElement(d.a,{to:{pathname:"/"}}):n.a.createElement("div",{className:O.a.Wrapper},n.a.createElement("div",{className:"animated fadeInUp"},n.a.createElement("form",{onSubmit:q,ref:e,className:O.a["auth-main"]},n.a.createElement("h3",{className:O.a["page-name"]},"Change password"),n.a.createElement("div",{className:O.a["form-control"]},n.a.createElement("label",{htmlFor:"password"}," New Password ",n.a.createElement("span",null,"minimum 6 characters")),n.a.createElement("input",{type:"password",name:"password",id:"password",value:m.val,onChange:U,placeholder:"Enter password..."}),n.a.createElement("span",{className:O.a.verification},n.a.createElement("i",{className:"fas fa-check"})),n.a.createElement("label",{htmlFor:"rePassword"}," Confirm New Password ",n.a.createElement("span",null,"same as password above")),n.a.createElement("input",{type:"password",name:"rePassword",id:"rePassword",value:h.val,onChange:U,placeholder:"Enter password..."}),n.a.createElement("span",{className:O.a.verification},n.a.createElement("i",{className:"fas fa-check"}))),n.a.createElement("button",{type:"submit",disabled:!0,className:O.a.btn,ref:a},S?n.a.createElement(P.a,{size:13,color:"#485877"}):"Change password"),n.a.createElement("div",{className:O.a["auth-switch-page"]+" "+O.a.register,onClick:function(){return e="login",void t.push("/".concat(e));var e}},"Remember your password? Sign in here"))))},X=function(){j.a.options=G;var e=Object(r.useState)(null),a=Object(l.a)(e,2),t=a[0],s=a[1];return Object(r.useEffect)((function(){(function(){var e=Object(u.a)(i.a.mark((function e(){var a,t;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(null!==localStorage.getItem("userToken")){e.next=4;break}return e.abrupt("return",s({username:"Guest"}));case 4:return a=localStorage.getItem("userToken"),e.next=7,h(a);case 7:1===(t=e.sent).status?(y.authenticate(t.username),s({username:t.username})):s({username:"Guest"});case 9:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}})()()}),[]),null===t?n.a.createElement("div",{className:"loading"},n.a.createElement(P.a,{size:50,color:"#485877"})):n.a.createElement(m.a,null,n.a.createElement("div",null,n.a.createElement(M,null),n.a.createElement(d.b,{exact:!0,path:"/",component:Y}),n.a.createElement(d.b,{path:"/login",component:A}),n.a.createElement(d.b,{path:"/register",component:F}),n.a.createElement(d.b,{path:"/recover",component:J}),n.a.createElement(d.b,{path:"/changepass",component:V}),n.a.createElement(I,{path:"/profile",component:U})))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));c.a.render(n.a.createElement(n.a.StrictMode,null,n.a.createElement(X,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))},76:function(e,a,t){},77:function(e,a,t){e.exports={AuthStatus:"AuthStatus_AuthStatus__2ZlMy","sign-out":"AuthStatus_sign-out__3IVfl","sign-in":"AuthStatus_sign-in__2SD58"}}},[[199,1,2]]]);
//# sourceMappingURL=main.bebf9e34.chunk.js.map